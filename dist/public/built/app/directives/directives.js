define(['app/base', 'fbase'], function(TimeSheetApp) {
  return TimeSheetApp.directive('validNumber', function() {
    return {
      require: '?ngModel',
      link: function(scope, element, attrs, ngModelCtrl) {
        if (!ngModelCtrl) {
          return;
        }
        ngModelCtrl.$parsers.push(function(val) {
          var val;
          var clean, decimalCheck;
          if (angular.isUndefined(val)) {
            val = '';
          }
          clean = val.replace(/[^0-9\.]/g, '');
          decimalCheck = clean.split('.');
          if (!angular.isUndefined(decimalCheck[1])) {
            decimalCheck[1] = decimalCheck[1].slice(0, 2);
            clean = decimalCheck[0] + '.' + decimalCheck[1];
          }
          if (val !== clean) {
            ngModelCtrl.$setViewValue(clean);
            ngModelCtrl.$render();
          }
          return clean;
        });
        element.bind('keypress', function(event) {
          if (event.keyCode === 32) {
            event.preventDefault();
          }
        });
      }
    };
  });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiL1VzZXJzL2tyaXNobmFyb2toYWxlL2NvZGUvbGV2ZWwvbGV2ZWwvdGltZXNoZWV0YXBwL3B1YmxpYy9qYXZhc2NyaXB0cy9hcHAvZGlyZWN0aXZlcy9kaXJlY3RpdmVzLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiL1VzZXJzL2tyaXNobmFyb2toYWxlL2NvZGUvbGV2ZWwvbGV2ZWwvdGltZXNoZWV0YXBwL2Fzc2V0cy9qYXZhc2NyaXB0cy9hcHAvZGlyZWN0aXZlcy9kaXJlY3RpdmVzLmNvZmZlZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxNQUFBLENBQU8sQ0FBRSxVQUFGLEVBQWMsT0FBZCxDQUFQLEVBQThCLFNBQUMsWUFBRCxHQUFBO1NBRzVCLFlBQVksQ0FBQyxTQUFiLENBQXdCLGFBQXhCLEVBQXNDLFNBQUEsR0FBQTtXQUNwQztBQUFBLE1BQ0EsT0FBQSxFQUFVLFVBRFY7QUFBQSxNQUVBLElBQUEsRUFBTSxTQUFDLEtBQUQsRUFBUSxPQUFSLEVBQWlCLEtBQWpCLEVBQXdCLFdBQXhCLEdBQUE7QUFDSixRQUFBLElBQUcsQ0FBQSxXQUFIO0FBQ0UsZ0JBQUEsQ0FERjtTQUFBO0FBQUEsUUFFQSxXQUFXLENBQUMsUUFBUSxDQUFDLElBQXJCLENBQTBCLFNBQUMsR0FBRCxHQUFBO0FBQ3hCLFVBQUEsT0FBQSxDQUFBO0FBQUEsY0FBQSxtQkFBQTtBQUNBLFVBQUEsSUFBRyxPQUFPLENBQUMsV0FBUixDQUFvQixHQUFwQixDQUFIO0FBQ0UsWUFBQSxHQUFBLEdBQU8sRUFBUCxDQURGO1dBREE7QUFBQSxVQUdBLEtBQUEsR0FBUSxHQUFHLENBQUMsT0FBSixDQUFZLFdBQVosRUFBMEIsRUFBMUIsQ0FIUixDQUFBO0FBQUEsVUFJQSxZQUFBLEdBQWUsS0FBSyxDQUFDLEtBQU4sQ0FBYSxHQUFiLENBSmYsQ0FBQTtBQUtBLFVBQUEsSUFBRyxDQUFBLE9BQVEsQ0FBQyxXQUFSLENBQW9CLFlBQWEsQ0FBQSxDQUFBLENBQWpDLENBQUo7QUFDRSxZQUFBLFlBQWEsQ0FBQSxDQUFBLENBQWIsR0FBa0IsWUFBYSxDQUFBLENBQUEsQ0FBRSxDQUFDLEtBQWhCLENBQXNCLENBQXRCLEVBQXlCLENBQXpCLENBQWxCLENBQUE7QUFBQSxZQUNBLEtBQUEsR0FBUSxZQUFhLENBQUEsQ0FBQSxDQUFiLEdBQW1CLEdBQW5CLEdBQXdCLFlBQWEsQ0FBQSxDQUFBLENBRDdDLENBREY7V0FMQTtBQVFBLFVBQUEsSUFBRyxHQUFBLEtBQU8sS0FBVjtBQUNFLFlBQUEsV0FBVyxDQUFDLGFBQVosQ0FBMEIsS0FBMUIsQ0FBQSxDQUFBO0FBQUEsWUFDQSxXQUFXLENBQUMsT0FBWixDQUFBLENBREEsQ0FERjtXQVJBO2lCQVdBLE1BWndCO1FBQUEsQ0FBMUIsQ0FGQSxDQUFBO0FBQUEsUUFlQSxPQUFPLENBQUMsSUFBUixDQUFjLFVBQWQsRUFBeUIsU0FBQyxLQUFELEdBQUE7QUFDdkIsVUFBQSxJQUFHLEtBQUssQ0FBQyxPQUFOLEtBQWlCLEVBQXBCO0FBQ0UsWUFBQSxLQUFLLENBQUMsY0FBTixDQUFBLENBQUEsQ0FERjtXQUR1QjtRQUFBLENBQXpCLENBZkEsQ0FESTtNQUFBLENBRk47TUFEb0M7RUFBQSxDQUF0QyxFQUg0QjtBQUFBLENBQTlCLENBQUEsQ0FBQSIsInNvdXJjZXNDb250ZW50IjpbImRlZmluZSBbJ2FwcC9iYXNlJywgJ2ZiYXNlJ10sIChUaW1lU2hlZXRBcHApIC0+XG5cblxuICBUaW1lU2hlZXRBcHAuZGlyZWN0aXZlICd2YWxpZE51bWJlcicsIC0+XG4gICAge1xuICAgIHJlcXVpcmU6ICc/bmdNb2RlbCdcbiAgICBsaW5rOiAoc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBuZ01vZGVsQ3RybCkgLT5cbiAgICAgIGlmICFuZ01vZGVsQ3RybFxuICAgICAgICByZXR1cm5cbiAgICAgIG5nTW9kZWxDdHJsLiRwYXJzZXJzLnB1c2ggKHZhbCkgLT5cbiAgICAgICAgYHZhciB2YWxgXG4gICAgICAgIGlmIGFuZ3VsYXIuaXNVbmRlZmluZWQodmFsKVxuICAgICAgICAgIHZhbCA9ICcnXG4gICAgICAgIGNsZWFuID0gdmFsLnJlcGxhY2UoL1teMC05XFwuXS9nLCAnJylcbiAgICAgICAgZGVjaW1hbENoZWNrID0gY2xlYW4uc3BsaXQoJy4nKVxuICAgICAgICBpZiAhYW5ndWxhci5pc1VuZGVmaW5lZChkZWNpbWFsQ2hlY2tbMV0pXG4gICAgICAgICAgZGVjaW1hbENoZWNrWzFdID0gZGVjaW1hbENoZWNrWzFdLnNsaWNlKDAsIDIpXG4gICAgICAgICAgY2xlYW4gPSBkZWNpbWFsQ2hlY2tbMF0gKyAnLicgKyBkZWNpbWFsQ2hlY2tbMV1cbiAgICAgICAgaWYgdmFsICE9IGNsZWFuXG4gICAgICAgICAgbmdNb2RlbEN0cmwuJHNldFZpZXdWYWx1ZSBjbGVhblxuICAgICAgICAgIG5nTW9kZWxDdHJsLiRyZW5kZXIoKVxuICAgICAgICBjbGVhblxuICAgICAgZWxlbWVudC5iaW5kICdrZXlwcmVzcycsIChldmVudCkgLT5cbiAgICAgICAgaWYgZXZlbnQua2V5Q29kZSA9PSAzMlxuICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICAgICAgcmV0dXJuXG4gICAgICByZXR1cm5cblxuICAgIH1cblxuIl19
